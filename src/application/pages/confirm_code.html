{{> _head}}
<main class="container-gradient">
  <div class="p-4 mx-auto w-2/5 h-full flex flex-col justify-center items-center gap-10">
    <form class="flex jusitfy-left flex-col w-2/3 px-10 py-20 rounded-md bg-white shadow-md" id="confirm-code-form"
      data-testid="confirm-code-form" method="post" action="/forms/confirm-code">
      <h1 class="text-xl">Confirmar cadastro</h1>

      <p class="my-5">
        Por favor, digite seu código que te enviamos por e-mail.
      </p>

      <div class="input-control">
        <label for="code" class="input-label">Código</label>

        <input class="input" id="code" type="text" name="code" data-testid="code" />

        <ul class="input-errors" id="code-error-messages" data-testid="code-error-messages"></ul>
      </div>


      <input type="hidden" name="email" data-testid="email" value="{{email}}" />

      <button class="primary-button my-2 self-end" type="submit" data-testid="confirm-code-submit">
        Confirmar
      </button>

      <!-- TODO: add code counter -->
    </form>
  </div>
</main>

<script>
  new Form(
    document.getElementById('confirm-code-form'),
    [
      {
        input_element: document.getElementById('code'),
        error_message_element: document.getElementById('code-error-messages'),
        rules: ['required', 'min:4']
      },
    ]
  ).init();
</script>
{{> _footer}}