{{> _head}}
<main class="w-screen h-screen text-gray-900 bg-gradient-to-r from-indigo-500 via-blue-500 to-blue-900">
  <div class="p-4 mx-auto w-2/5 h-full flex flex-col justify-center items-center gap-10">

    <form class="flex jusitfy-left flex-col w-2/3 px-10 py-20 rounded-md bg-white shadow-md" id="signup-form"
      data-testid="signup-form" method="post" action="/forms/signup">
      <h1 class="text-center text-xl mb-10">Cadastre-se na B3 Alertas</h1>

      <div class="input-control">
        <label class="input-label" for="name">
          Nome
        </label>

        <input class="input" id="name" type="text" name="name" data-testid="signup-name" />

        <ul class="input-errors" id="name-error-messages" data-testid="name-error-messages"></ul>
      </div>

      <div class="input-control">
        <label class="input-label" for="email">
          E-mail
        </label>

        <input class="input" id="email" type="email" name="email" data-testid="signup-email" />

        <ul class="input-errors" id="email-error-messages" data-testid="email-error-messages"></ul>
      </div>

      <div class="input-control">
        <label class="input-label" for="phone-number">
          Telefone
        </label>

        <input class="input" id="phone-number" type="text" name="phone_number" data-testid="signup-phone-number" />

        <ul class="input-errors" id="phone-number-error-messages" data-testid="phone-number-error-messages"></ul>
      </div>

      <div class="input-control">
        <label class="input-label" for="password">
          Senha
        </label>

        <input class="input" id="password" type="password" name="password" data-testid="signup-password" />

        <ul class="input-errors" id="password-error-messages" data-testid="password-error-messages"></ul>
      </div>

      <button class="primary-button my-2 self-end" type="submit" data-testid="signup-submit">
        Cadastrar
      </button>

      <p class="self-center mt-10">
        JÃ¡ possue uma conta?
        <a class="link" href="/pages/login">Fazer login.</a>
      </p>
    </form>
  </div>
</main>

<script>
  const phone_number_input = document.getElementById('phone-number');
  const mask = IMask(phone_number_input, { mask: '(00)00000-0000' });

  new Form(
    document.getElementById('signup-form'),
    [
      {
        input_element: document.getElementById('name'),
        error_message_element: document.getElementById('name-error-messages'),
        rules: ['required', 'string']
      },
      {
        input_element: document.getElementById('email'),
        error_message_element: document.getElementById('email-error-messages'),
        rules: ['required', 'string', 'email']
      },
      {
        input_element: phone_number_input,
        error_message_element: document.getElementById('phone-number-error-messages'),
        rules: ['required', 'string', 'phone']
      },
      {
        input_element: document.getElementById('password'),
        error_message_element: document.getElementById('password-error-messages'),
        rules: ['required', 'min:8', 'password']
      }
    ]
  ).init(true);
</script>
{{> _footer}}