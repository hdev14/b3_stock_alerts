{{> _head}}
<main>
  <h1>{{title}}</h1>

  <form id="signup-form" data-testid="signup-form" method="post" action="/forms/signup">
    <input id="name" type="text" name="name" data-testid="signup-name" />
    <ul id="name-error-messages" data-testid="name-error-messages"></ul>

    <input id="email" type="email" name="email" data-testid="signup-email" />
    <ul id="email-error-messages" data-testid="email-error-messages"></ul>

    <input id="phone-number" type="text" name="phone-number" data-testid="signup-phone-number" />
    <ul id="phone-number-error-messages" data-testid="phone-number-error-messages"></ul>

    <input id="password" type="password" name="password" data-testid="signup-password" />
    <ul id="password-error-messages" data-testid="password-error-messages"></ul>

    <button type="submit" data-testid="signup-submit">
      Signup
    </button>
  </form>
</main>

<script>
  const phone_number_input = document.getElementById('phone-number');
  const mask = IMask(phone_number_input, { mask: '(00)00000-0000' });

  new SignupForm(
    document.getElementById('signup-form'),
    [
      {
        input_element: document.getElementById('name'),
        error_message_element: document.getElementById('name-error-messages'),
        rules: ['required', 'string']
      },
      {
        input_element: document.getElementById('email'),
        error_message_element: document.getElementById('email-error-messages'),
        rules: ['required', 'string', 'email']
      },
      {
        input_element: phone_number_input,
        error_message_element: document.getElementById('phone-number-error-messages'),
        rules: ['required', 'string', 'phone']
      },
      {
        input_element: document.getElementById('password'),
        error_message_element: document.getElementById('password-error-messages'),
        rules: ['required', 'string', 'min:8', 'password']
      }
    ]
  ).init();
</script>
{{> _footer}}